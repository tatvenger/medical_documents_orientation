# Предобработка медицинских документов
## Описание проекта
Заказчик - DonorSearch -  занимается развитием донорства в стране. Для этого есть платформа DonorSearch.org, где для доноров доступны бонусная программа, игрофикация пути донора и многое другое. Важной является проверка честности доноров и корректности внесенных донаций. Подтверждение производится по справке установленной формы (№405), такую справку донор получает в центре крови.  Далее загружает как картинку или pdf в личный кабинет. На текущий момент заказчик уже использует сервис OCR (optical character recognition) для распознавания табличной информации на бланке справки и записи результатов в .csv файл. Существующая версия сервиса требует вертикальной ориентации справки, однако с точки зрения удобства пользователя хотелось бы обрабатывать справки независимо от их ориентации.

**Цель проекта** \
Необходимо разработать модель компьютерного зрения, которая определяет ориентацию справки в одном из четырех форматов (0°, 90°, 180° или 270°) и автоматически поворачивает ее в нормальное положение перед запуском сервиса OCR.

## Модели
Для выполнения задачи определения ориентации медицинских документов были применены сверточные нейронные сети готовой архитектуры. Мы провели обучение следующего набора моделей:
- ResNet18: с заменной числа классов на нужные нам 4 в fc слое;
- ResNet50:  с заменной числа классов на нужные нам 4 в fc слое и заморозкой последних нескольких слоев;
- Inception:  с заменой числа классов в fc слое и слое логитов на 4 нужные нам класса.
  
Наилучшей моделью оказалась модель Inception. Данная модель показала значение выбранной нами метрики accuracy на тренировочной выборке, равное 1, на валидационной выборке - 0.985, на тестовой выборке - 0.96.

## Запуск разработанного микросервиса
Для запуска разработанного нами микросервиса на базе выбранной модели необходимо:
- скопировать данный репозиторий;
- создать образ Docker;
  ```
  docker build -t application:med_doc_orient .
  ```
- запустить контейнер Docker.
  ```
  docker run --rm -it -p 8010:8000 --name app med_doc_orient
  ```

